<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="description" content="Data visualizations portfolio by Kazuki OGIWARA.">
		<link rel="stylesheet" href="assets/css/default.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
		<title>Kazuki OGIWARA: Portfolio</title>
		<style>
			body {
				background-image: url('assets/img/ep_naturalwhite.png');
			}

			#container{
				margin: 0 auto;
				width: 96%;
				max-width: 1080px;
			}
			
			.title {
				margin-top: 40px;
				margin-bottom: 60px;
				color: rgba(0,0,0,0.65);
				margin-left: 20px;
			}
			
			.title h1 {
				margin-bottom: 20px;
			}
			
			.title h3 {
				margin-bottom: 40px;
				margin-left: 1px;
			}
			
			.title p {
				margin-left: 1px;
				font-size: small;
				color: rgba(0,0,0,0.55);
			}
			
			#works {
				display: grid;
				grid-template-columns: 1fr 1fr 1fr;
			}
			
			.card {
				margin: 0 auto;
				width: calc(100% - 40px);
				height: 180px;
				margin-bottom: 60px;
			}
			
			.card * {
				-webkit-transition: all 0.2s;
				transition: all 0.2s;
			}
			
			.card-image {
				height: 100%;
				margin:0 auto;
				background-position: center center;
				background-size: cover;
				background-repeat: no-repeat;
			}
			
			.card-title {
				margin-top: 10px;
				font-size: small;
				color: rgba(0,0,0,0.7);
			}
			
			.card:hover .card-image {
		    box-shadow: 0 2px 4px 0 rgba(0,0,0,0.2);
			}

			.card:hover .card-title {
		    color: rgba(20, 80, 160, 0.8);
			}
		</style>
	</head>
	<body>
		<div id="cover"><p>Loading...</p></div>
		<div id="container">
			<div class="title">
				<h1>Data Visualizations Portfolio</h1>
				<h3>Kazuki OGIWARA</h3>
				<p>All features should work correctly when you are using Google Chrome on Mac OS X</p>
			</div>
			<div id="works"></div>
		</div>
		<script src="//code.jquery.com/jquery-2.2.4.min.js"></script>
		<script>
			$(function(){
				var url = "assets/data/viz.json";
				$.getJSON(url).done(function(json){
					
					var area = $("#works");

					for (var i = 0; i< json.length; i++) {
						var id					= json[i]["id"];
						var title				= json[i]["title"];
						
						area.append(
							  '<div class="card">'
								+ '<a class="viz-link" href="viz/' + id + '/"><div class="card-image" style="background-image:url(assets/img/thumbnail-' + id + '.png)"></div></a>'
								+ '<div class="card-caption">'
									+ '<div class="card-title">' + title + '</div>'
								+ '</div>'
							+ '</div>');
					}
					
					$('#cover').fadeOut();

					// When a tag for viz was clicked
					$(document).on("click", "a.viz-link", function(e){
						e.preventDefault();
						var href = $(this).attr("href");
						$.when(
							$("#cover").fadeIn("fast")
						).done(function() {
							window.location.href = href;
						});
					});
				});
			});
		</script>
	</body>
</html>
