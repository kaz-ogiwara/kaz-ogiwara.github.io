<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <title>Population of Japan with Three.js</title>
    <style>
      *{
        margin:0;
        font-family: Helvetica;
        font-size: small;
        font-weight: lighter;
      }
      
      .info-box{
        background-color: rgba(0,0,0,0.6);
        color: rgba(255,255,255,0.9);
        display: none;
        position: absolute;
        width: 150px;
        right: 10px;
        bottom: 10px;
        padding: 0 10px 10px 10px;
        z-index: 50;
      }
      
      .info-box .detail-title{
        margin-top: 10px;
        color: rgba(150, 150, 150, 0.9);
        font-size: x-small;
      }
      
      .info-box.title{
        padding: 10px;
        display: block;
        top: 10px;
        left: 10px;
        width: 480px;
        height: 150px;
      }
      
      .info-box.title h1{
        font-size: xx-large;  
      }
      
      .btn-control{
        position: absolute;
        left: 10px;
        bottom: 10px;
        width: 60px;
        height: 30px;
        border: 2px solid rgba(130, 206, 238, 0.9);
        border-radius: 5px;
        color: rgba(160, 200, 240, 0.9);
        background-color: rgba(130, 206, 238, 0.05);
        outline: none;
      }
      
      .btn-control:hover{
        background-color: rgba(130, 206, 238, 0.3);
        cursor: pointer;
      }
      
      #cover{
        background-color: rgba(255,255,255,0.8);
        padding-top: 300px;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 500;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="canvas-area"></div>
    <div id="cover">
			<h5>Loading...</h5>
		</div>
    <div class="info-box title">
			<h1>Population of Japan: 1980 - 2040</h1>
			<br>
			<p>9 Apr 2017: Kazuki OGIWARA</p>
			<br>
			<p>- Population of Japan in each age class (19 classes from "0 - 5 y.o." to "90 y.o. -")</p>
			<p>- Actual result from 1980 to 2010, forecast from 2015 - 2040</p>
			<p>- By hovering each box, detail information will be shown</p>
			<p>- You can play and stop rotation by clicking the button on the bottom-left corner</p>
    </div>
    <div class="info-box" id="info-box">
      <div class="detail-title">Year:</div>
      <div id="info-year"></div>
      <div class="detail-title">Age:</div>
      <div id="info-age"></div>
      <div class="detail-title">Population:</div>
      <div id="info-pop"></div>
      <div class="detail-title">Female:</div>
      <div id="info-popf"></div>
      <div class="detail-title">Male:</div>
      <div id="info-popm"></div>
    </div>
    <button class="btn-control play"><i class="fa fa-play"></i></button>
    <script src="//code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/three.js/84/three.min.js"></script>
    <script>
      var status = 0;
      
      function getDefault(){
        $.getScript("js/default.js", function(){
          $("#cover").fadeOut();
        });
      }

      function getScript(src) {
        $.getScript(src, function(data, textStatus, jqxhr) {
          console.log(src);
          console.log(textStatus);
          console.log(jqxhr.status);

          status++;
          console.log(status);
          
          if (status == 2) {
            getDefault();
          }
        });
      }

      $(function(){
        getScript("lib/OrbitControls.js");
        getScript("lib/Detector.js");
      });
    </script>
  </body>
</html>
